<body>


  <section class="msger">
    <header class="msger-header">
      <div class="msger-header-title">
        Chat Application Demo
      </div>
      <div class="msger-header-options">
        {{> loginButtons}}
      </div>
    </header>
  
    <main class="msger-chat" id="out">
      {{#each tasks}}
        {{> message}}
      {{/each}}
    </main>
    <script>
      //https://stackoverflow.com/questions/18614301/keep-overflow-div-scrolled-to-bottom-unless-user-scrolls-up/18614561
      const out = document.getElementById("out")
let c = 0
setInterval(function() {
      out.scrollTop = out.scrollHeight - out.clientHeight
}, 500)
function format () {
  return Array.prototype.slice.call(arguments).join(' ')
}
    </script>
    {{#if currentUser}}
    <form class="msger-inputarea new-message">
      <input type="text" class="msger-input" name="messageText" placeholder="Enter your message...">
      <button type="submit" class="msger-send-btn">Send</button>
    </form>
    {{/if}} 
  </section>
</body>
 




<template name="message">
  <div class="msg left-msg">

    <div class="msg-bubble">
      <div class="msg-info">
        <div class="msg-info-name">{{sender}}</div>
        <div class="msg-info-time">{{formattedDate}}</div>
      </div>

      <div class="msg-text">
        {{text}}
      </div>
    </div>
  </div>
</template>